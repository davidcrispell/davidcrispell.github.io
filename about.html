<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Page</title>

  <!-- 1. Tiny inline script at the very top of <head> -->
  <script>
    (function() {
      // Check localStorage
      if (localStorage.getItem('darkMode') === 'true') {
        // Apply dark mode before rendering
        document.documentElement.classList.add('dark-mode');
      }
    })();
  </script>

  <style>
    /* (Optional) Remove transitions if you want zero animation */
    body {
      transition: none !important;
    }

    /* Base styles */
    body {
      font-family: 'Charter', serif;
      background-color: #fff; /* Light background */
      color: #000;            /* Light text */
    }

    /* The .dark-mode override */
    .dark-mode {
      background-color: #1a1a1a !important; /* Dark background */
      color: #f0f0f0 !important;           /* Light text */
    }

    /* Example nav styling, etc. */
    .nav { /* ... */ }
    /* etc. */
  </style>
</head>
<body>
  <div class="nav">
    <!-- Dark mode toggle button -->
    <button id="theme-toggle">○</button>
    <!-- Your nav links -->
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <!-- etc. -->
  </div>

  <h1>My Page</h1>
  <p>Some content here...</p>

  <!-- 2. The main toggling script at the bottom -->
  <script>
    // Read current preference
    let isDarkMode = (localStorage.getItem('darkMode') === 'true');

    // Grab the toggle button
    const toggleButton = document.getElementById('theme-toggle');

    // Set the correct symbol on initial load
    toggleButton.textContent = isDarkMode ? '◉' : '○';

    // Listen for clicks to toggle dark mode
    toggleButton.addEventListener('click', () => {
      isDarkMode = !isDarkMode; // Flip the state
      // Toggle the .dark-mode class on <html> or <body>
      document.documentElement.classList.toggle('dark-mode', isDarkMode);
      // Save the new preference
      localStorage.setItem('darkMode', isDarkMode);
      // Update the button symbol
      toggleButton.textContent = isDarkMode ? '◉' : '○';
    });
  </script>
</body>
</html>
